# ADR-001: Golden Path Service Template (Orders Service)

**Status:** Accepted  
**Date:** 2026-01-26  
**Owners:** Platform Team (Riyad Bank Formula-X)

## Context

We need a **single, enforced golden path** for building microservices that:

- Aligns with *Killing Dumb Apps* Part 2 (chapter 21–23)  
- Is compatible with our **greenfield DevOps pipelines**  
- Bakes in observability (chapter 20) and governance (chapter 24) from day one

Multiple teams are currently building services with **different stacks, folder structures, and CI pipelines**, causing:

- Inconsistent reliability  
- Slower onboarding  
- Governance gaps (no standard metrics, no standard health checks)

## Decision

We standardize on a **Spring Boot + Java 17 service template** called `orders-service-template`:

- Folder structure follows **Hexagonal (Ports & Adapters)**:
  - `domain/` – business objects and DTOs  
  - `application/` – use cases / orchestration  
  - `adapter/in/api/` – REST controllers  
- Observability:
  - Spring Boot Actuator with `/actuator/health` and `/actuator/prometheus`  
  - Standard logging configuration from `observability/application-observability.yml`
- API:
  - OpenAPI via `springdoc-openapi-starter-webmvc-ui`
- CI/CD:
  - Root `.gitlab-ci.yml` implementing chapter 22 stages:
    - `validate` → `build` → `test` → `security` → `deploy`

This template lives under:

`platform-starter/golden-paths/service/`

All new services **must** be created from this template (or its future versions).

## Consequences

### Positive

- Onboarding new services becomes **fork + rename + deploy**.  
- Observability and CI/CD are **standardized and enforced**.  
- Platform team can evolve the template and propagate improvements.

### Negative / Trade-offs

- Teams lose some **stack freedom** (no random frameworks).  
- Migrating existing snowflake services to this template will require effort.

## Links

- `golden-paths/service/README.md`  
- chapter 12, chapter 20, chapter 22, chapter 23 of *Killing Dumb Apps*